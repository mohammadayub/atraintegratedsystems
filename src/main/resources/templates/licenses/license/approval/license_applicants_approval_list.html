<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head th:replace="~{layout :: page_head}">
    <div th:replace="styles :: data-tables-styles"></div>
    <div th:replace="styles :: persian-datepicker-styles"></div>
    <div th:replace="styles :: select2-styles"></div>
    <title>ATRA Financial Integrated System</title>

    <style>
        /* Basic Table Styling */
        .table-container {
            max-height: 800px; /* Set a maximum height for the table container */
            overflow-y: auto;   /* Enable vertical scrolling */
            border: 1px solid #ddd; /* Optional: Add a border around the table */
        }

        #profileTable {
            width: 100%; /* Full width for the table */
            border-collapse: collapse;
            font-size: 0.9em; /* General smaller font for the table */
        }

        #profileTable th, #profileTable td {
            padding: 6px;
            text-align: center;
            vertical-align: middle;
            font-size: 0.8em; /* Small font size for headers and cells */
        }

        #profileTable thead th {
            background-color: darkblue;
            color: white;
            font-size: 0.85em; /* Slightly larger font for headers */
        }

        #profileTable tbody tr:nth-child(even) {
            background-color: #f2f2f2; /* Zebra stripes for rows */
        }

        #profileTable td a.btn-primary {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 4px;
        }

        #profileTable .icon-small {
            width: 16px;
            height: 16px;
        }

        /* Optional: Add some responsiveness */
        @media (max-width: 768px) {
            #profileTable th, #profileTable td {
                font-size: 0.7em; /* Smaller font size for mobile view */
                padding: 4px;
            }
        }
        #profileTable th {
        white-space: nowrap;
    }
    </style>
</head>
<body>
<nav th:replace="~{layout :: page_navbar}"></nav>
<div class="container-fluid">
    <div class="table-container">
        <table class="table table-bordered" id="profileTable">
            <thead>
            <tr>
                <th>Request ID</th>
                <th>Request Date</th>
                <th>Company License Name</th>
                <th>License Type ID</th>
                <th>Application Fees</th>
                <th>Finance Type</th>
                <th>Entry Voucher Date</th>
                <th>Bank Voucher</th>
                <th>Payment Status</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="profile : ${profiles}">
                <td th:text="${profile[0]}">Request ID</td>
                <td th:text="${profile[1]}">Request Date</td>
                <td th:text="${profile[2]}">Company License Name</td>
                <td th:text="${profile[3]}">License Type ID</td>
                <td th:text="${profile[4]}">Application Fees</td>
                <td th:text="${profile[5]}">Finance Type</td>
                <td th:text="${profile[6]}">Entry Voucher Date</td>
                <td th:text="${profile[7]}">Bank Voucher</td>
                <td th:text="${profile[8]}">Payment Status</td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="container">
    <form method="post" style="margin-top:30px;">
        <div class="row">
            <div class="col-md-3 form-group">
                <label
                        th:classappend="${#locale.language == 'ps' or #locale.language == 'prs'} ? 'label-rtl' : 'label-ltr'">
                Approval ID
                </label>
                <input type="text" id="reqDate" class="form-control" required>
            </div>
            <div class="col-md-3 form-group">
                <label
                        th:classappend="${#locale.language == 'ps' or #locale.language == 'prs'} ? 'label-rtl' : 'label-ltr'">
                    Approval Date
                </label>
                <input type="text" class="form-control hijrishamsi" required>
            </div>
            <div class="col-md-3 form-group">
                <label
                        th:classappend="${#locale.language == 'ps' or #locale.language == 'prs'} ? 'label-rtl' : 'label-ltr'">
                    Approval Status
                </label>
                <input type="text" class="form-control" required>
            </div>
            <div class="col-md-3 form-group">
                <label
                        th:classappend="${#locale.language == 'ps' or #locale.language == 'prs'} ? 'label-rtl' : 'label-ltr'">
                    License Type ID
                </label>
                <input type="text" class="form-control" required>
            </div>
        </div>
<!--        Second Row -->
        <div class="row">
            <div class="col-md-3 form-group">
                <label
                        th:classappend="${#locale.language == 'ps' or #locale.language == 'prs'} ? 'label-rtl' : 'label-ltr'">
                    Currency Type
                </label>
                <input type="text" class="form-control" required>
            </div>
            <div class="col-md-3 form-group">
                <label
                        th:classappend="${#locale.language == 'ps' or #locale.language == 'prs'} ? 'label-rtl' : 'label-ltr'">
                    License Fees
                </label>
                <input type="text" class="form-control" required>
            </div>
            <div class="col-md-3 form-group">
                <label
                        th:classappend="${#locale.language == 'ps' or #locale.language == 'prs'} ? 'label-rtl' : 'label-ltr'">
                    License Payment Office
                </label>
                <input type="text" class="form-control" required>
            </div>
            <div class="col-md-3 form-group">
                <label
                        th:classappend="${#locale.language == 'ps' or #locale.language == 'prs'} ? 'label-rtl' : 'label-ltr'">
                    Administrative Yearly Fees
                </label>
                <input type="text" class="form-control" required>
            </div>
        </div>
<!--        Third Row -->
        <div class="row">
            <div class="col-md-3 form-group">
                <label
                        th:classappend="${#locale.language == 'ps' or #locale.language == 'prs'} ? 'label-rtl' : 'label-ltr'">
                    Adminstrivate Yearly Fees Payment Office
                </label>
                <input type="text" class="form-control" required>
            </div>
            <div class="col-md-3 form-group">
                <label
                        th:classappend="${#locale.language == 'ps' or #locale.language == 'prs'} ? 'label-rtl' : 'label-ltr'">
                    Guarantee Fees
                </label>
                <input type="text" class="form-control" required>
            </div>
            <div class="col-md-3 form-group">
                <label
                        th:classappend="${#locale.language == 'ps' or #locale.language == 'prs'} ? 'label-rtl' : 'label-ltr'">
                    Guarantee Fees Payment Office
                </label>
                <input type="text" class="form-control" required>
            </div>
            <div class="col-md-3 form-group">
                <label
                        th:classappend="${#locale.language == 'ps' or #locale.language == 'prs'} ? 'label-rtl' : 'label-ltr'">
                    Database Yearly Maintainance Fees
                </label>
                <input type="text" class="form-control" required>
            </div>
        </div>
<!--        Row Fourth-->
        <div class="row">
            <div class="col-md-3 form-group">
                <label
                        th:classappend="${#locale.language == 'ps' or #locale.language == 'prs'} ? 'label-rtl' : 'label-ltr'">
                    Database Yearly Maintainance Fees Payment Office
                </label>
                <input type="text" class="form-control" required>
            </div>
            <div class="col-md-3 form-group">
                <label
                        th:classappend="${#locale.language == 'ps' or #locale.language == 'prs'} ? 'label-rtl' : 'label-ltr'">
                    License Applicant ID
                </label>
                <input type="text" class="form-control" required>
            </div>
        </div>
<!--        Fiveth Row-->
        <div class="row">
            <button type="submit" class="btn btn-primary">Approved</button>

        </div>
    </form>
</div>
<!-- Common scripts -->
<div th:replace="scripts :: common-scripts"></div>
<div th:replace="scripts :: persian-datepicker-scripts"></div>
<div th:replace="scripts :: data-tables-scripts"></div>

<!--<script>-->
<!--    $(document).ready(function () {-->
<!--        // Initialize DataTable with individual column search-->
<!--        let table = $('#profileTable').DataTable({-->
<!--            initComplete: function () {-->
<!--                this.api().columns().every(function () {-->
<!--                    var column = this;-->
<!--                    var input = $('<input type="text" placeholder="Search" style="width: 100%;"/>')-->
<!--                        .appendTo($(column.header()).empty())-->
<!--                        .on('keyup change clear', function () {-->
<!--                            if (column.search() !== this.value) {-->
<!--                                column-->
<!--                                    .search(this.value)-->
<!--                                    .draw();-->
<!--                            }-->
<!--                        });-->
<!--                });-->
<!--            }-->
<!--        });-->
<!--    });-->
<!--</script>-->

<script>
    $(document).ready(function () {
        // Initialize DataTable with individual column search
        let table = $('#profileTable').DataTable({
            initComplete: function () {
                this.api().columns().every(function () {
                    var column = this;
                    var header = $(column.header());
                    var columnText = header.text(); // Get the existing header text
                    header.empty().append('<div>' + columnText + '</div>'); // Keep the header text and add a wrapper

                    // Append the search input below the header text
                    $('<input type="text" placeholder="Search" style="width: 100%; margin-top: 5px;"/>')
                        .appendTo(header)
                        .on('keyup change clear', function () {
                            if (column.search() !== this.value) {
                                column
                                    .search(this.value)
                                    .draw();
                            }
                        });
                });
            }
        });
    });
</script>


<footer th:replace="~{layout :: page_footer}"></footer>
<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
</body>
</html>
